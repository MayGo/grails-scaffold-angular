/*
 * angular-auto-validate - v1.18.6 - 2015-04-16
 * https://github.com/jonsamwell/angular-auto-validate
 * Copyright (c) 2015 Jon Samwell (http://www.jonsamwell.com)
 */
!function(a){"use strict";a.module("jcs-autoValidate",[])}(angular),function(a){"use strict";a.module("jcs-autoValidate").provider("validator",[function(){var b={},c=!0,d=!0,e=!0,f=function(a){var b;return a&&0!==a.length?(b=a.toLowerCase(),a=!("f"===b||"0"===b||"false"===b)):a=!1,a},g=function(a,b){var c;return void 0!==a&&(c=a.attr(b)||a.attr("data-"+b)),c},h=function(a,b){var c;return void 0!==a&&(c=void 0!==a.attr(b)||void 0!==a.attr("data-"+b)),c},i=function(a,b){return f(g(a,b))},j=function(a){return c&&!i(a,"disable-valid-styling")},k=function(a){return d&&!i(a,"disable-invalid-styling")};this.enable=function(a){e=a},this.isEnabled=function(){return e},this.setDefaultElementModifier=function(a){if(void 0===b[a])throw new Error("Element modifier not registered: "+a);this.defaultElementModifier=a},this.registerDomModifier=function(a,c){b[a]=c},this.setErrorMessageResolver=function(a){this.errorMessageResolver=a},this.getErrorMessage=function(b,c){var d;if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return h(c,"disable-validation-message")?(d=a.injector(["ng"]).get("$q").defer(),d.resolve(""),d.promise):this.errorMessageResolver(b,c)},this.setValidElementStyling=function(a){c=a},this.setInvalidElementStyling=function(a){d=a},this.getDomModifier=function(a){var c=(void 0!==a?a.attr("element-modifier"):this.defaultElementModifier)||(void 0!==a?a.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===c)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return b[c]},this.makeValid=function(a){j(a)?this.getDomModifier(a).makeValid(a):this.makeDefault(a)},this.makeInvalid=function(a,b){k(a)?this.getDomModifier(a).makeInvalid(a,b):this.makeDefault(a)},this.makeDefault=function(a){var b=this.getDomModifier(a);b.makeDefault&&b.makeDefault(a)},this.defaultFormValidationOptions={forceValidation:!1,disabled:!1,validateNonVisibleControls:!1,removeExternalValidationErrorsOnSubmit:!0},this.$get=[function(){return this}]}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("bootstrap3ElementModifier",["$log",function(b){var c=function(b){a.forEach(b.find("span"),function(b){b=a.element(b),(b.hasClass("error-msg")||b.hasClass("form-control-feedback")||b.hasClass("control-feedback"))&&b.remove()}),b.removeClass("has-success has-error has-feedback")},d=function(a,b){for(var c,d=a,e=0;10>=e;e+=1){if(void 0!==d&&d.hasClass(b)){c=d;break}void 0!==d&&(d=d.parent())}return c},e=function(b,c){for(var d,f=0;f<b.children.length&&(d=b.children[f],void 0===d||!a.element(d).hasClass(c))&&!(void 0!==d.children&&(d=e(d,c),d.length>0));f+=1);return a.element(d)},f=function(a){return d(a,"form-group")},g=function(a){return e(a,"input-group")},h=function(a,b){a[0].parentNode.insertBefore(b[0],a[0].nextSibling)},i=!1,j=function(a){i=a},k=function(d){var e,j=f(d);if(j){if(c(j),e=g(j[0]),j.addClass("has-success "+(e.length>0?"":"has-feedback")),i){var k='<span class="glyphicon glyphicon-ok form-control-feedback"></span>';e.length>0&&(k=k.replace("form-",""),k='<span class="input-group-addon control-feedback">'+k+"</span"),h(d,a.element(k))}}else b.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},l=function(d,e){var j,k=f(d),l=a.element('<span class="help-block has-error error-msg">'+e+"</span>");if(k){if(c(k),j=g(k[0]),k.addClass("has-error "+(j.length>0?"":"has-feedback")),h(j.length>0?j:d,l),i){var m='<span class="glyphicon glyphicon-remove form-control-feedback"></span>';j.length>0&&(m=m.replace("form-",""),m='<span class="input-group-addon control-feedback">'+m+"</span"),h(d,a.element(m))}}else b.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},m=function(a){var d=f(a);d?c(d):b.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")};return{makeValid:k,makeInvalid:l,makeDefault:m,enableValidationStateIcons:j,key:"bs3"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("jcs-debounce",["$timeout",function(b){var c=function(c,d,e){d=a.isUndefined(d)?0:d,e=a.isUndefined(e)?!0:e;var f=0;return function(){var a=this,g=arguments;f+=1;var h=function(b){return function(){return b===f?c.apply(a,g):void 0}}(f);return b(h,d,e)}};return{debounce:c}}])}(angular),function(a,b){"use strict";"format"in a.prototype||(a.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return void 0!==typeof a[c]?a[c]:b})}),b.autoValidate=b.autoValidate||{errorMessages:{}},b.autoValidate.errorMessages["en-us"]=b.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://www.google.com"},b.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(a,c){var d,e="en-gb",f="js/angular-auto-validate/dist/lang",g=function(a){return d=c.get("{0}/jcs-auto-validate_{1}.json".format(f,a.toLowerCase()))},h=function(a){f=a},i=function(c,f){var h=a.defer();return f=f||g,e=c.toLowerCase(),void 0===b.autoValidate.errorMessages[e]?(d=f(c),d.then(function(a){d=void 0,b.autoValidate.errorMessages[e]=a.data,h.resolve(b.autoValidate.errorMessages[e])},function(a){b.autoValidate.errorMessages[e]={defaultMsg:"Loading culture failed!"},d=null,h.reject(a)})):h.resolve(b.autoValidate.errorMessages[e]),h.promise},j=function(c){var f=a.defer();return c=void 0===c?e:c.toLowerCase(),void 0!==d?d.then(function(){f.resolve(b.autoValidate.errorMessages[c])},function(a){f.reject(a)}):f.resolve(b.autoValidate.errorMessages[c]),f.promise},k=function(a,b){var c;return b&&(a+="-err-type",c=b.attr("ng-"+a),void 0===c&&(c=b.attr("data-ng-"+a)||b.attr(a)),c&&(c=c.replace(/[\W]/g,""))),c},l=function(c,f){var g,h,i,j=a.defer(),m=[];if(void 0!==d)d.then(function(){l(c,f).then(function(a){j.resolve(a)})});else{if(g=b.autoValidate.errorMessages[e][c],i=k(c,f),i&&(g=b.autoValidate.errorMessages[e][i]),void 0===g&&(g=b.autoValidate.errorMessages[e].defaultMsg.format(c)),f&&f.attr)try{h=f.attr("ng-"+c),void 0===h&&(h=f.attr("data-ng-"+c)||f.attr(c)),m.push(h||""),g=g.format(m)}catch(n){}j.resolve(g)}return j.promise};return{setI18nFileRootPath:h,setCulture:i,getErrorMessages:j,resolve:l}}])}(String,angular),function(a){"use strict";a.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var b=function(b,c){a.forEach(b.find("small"),function(b){a.element(b).hasClass("error")&&a.element(b).remove()}),c.removeClass("error")},c=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("columns"));c+=1)void 0!==b&&(b=b.parent());return b},d=function(a){var d=c(a);b(d&&d.length>0?d:a,a)},e=function(d,e){var f,g=c(d);b(g||d,d),d.addClass("error"),g&&(f=a.element('<small class="error">'+e+"</small>"),g.append(f))},f=function(a){d(a)};return{makeValid:d,makeInvalid:e,makeDefault:f,key:"foundation5"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("jcs-elementUtils",[function(){var a=function(a){return a[0].offsetWidth>0&&a[0].offsetHeight>0};return{isElementVisible:a}}]),a.module("jcs-autoValidate").factory("validationManager",["validator","jcs-elementUtils",function(b,c){var d=["input","textarea","select","form"],e=function(a){return c.isElementVisible(a)},f=function(c){var d=a.element(c).controller("form");return void 0!==d&&null!==d?d.autoValidateFormOptions:b.defaultFormValidationOptions},g=function(a,b){var c=a&&a.length>0&&(e(a)||b.validateNonVisibleControls)&&(d.indexOf(a[0].nodeName.toLowerCase())>-1||a[0].hasAttribute("register-custom-form-control"));return c},h=function(c,d,e){var h,i=!0,j=e||f(d),k=c.$pristine===!1||j.forceValidation,l=function(b){var c,d=!0;return a.forEach(b,function(a,b){d&&a&&(d=!1,c=b)}),c};return j.disabled===!1&&(j.forceValidation||g(d,j)&&c&&k)&&(i=!c.$invalid,j.removeExternalValidationErrorsOnSubmit&&c.removeAllExternalValidation&&c.removeAllExternalValidation(),i?b.makeValid(d):(h=l(c.$errors||c.$error),void 0===h?i=!0:b.getErrorMessage(h,d).then(function(a){b.makeInvalid(d,a)}))),i},i=function(a){b.makeDefault(a)},j=function(b){a.forEach(b[0].all||b[0].elements||b[0],function(b){var c,d=a.element(b);c=d.controller("ngModel"),void 0!==c&&("form"===d[0].nodeName.toLowerCase()?j(d):c.$setPristine())})},k=function(b){var c,d=!0,e=b?a.element(b).controller("form"):void 0,i=function(b,c,e){var i,j,l;b=a.element(b),i=b.controller("ngModel"),void 0!==i&&(c||g(b,e))&&("form"===b[0].nodeName.toLowerCase()?k(b):(l=f(b),l.forceValidation=c,j=h(i,b,l),d=d&&j))};return void 0===b||void 0!==e&&e.autoValidateFormOptions.disabled?void 0!==b:(c=a.copy(e.autoValidateFormOptions),c.forceValidation=!0,a.forEach(b[0].all||b[0].elements||b[0],function(a){i(a,!0,c)}),b[0].customHTMLFormControlsCollection&&a.forEach(b[0].customHTMLFormControlsCollection,function(a){i(a,!0,c)}),d)},l=function(a,c,d){c?b.getErrorMessage(c,a).then(function(c){b.makeInvalid(a,c)}):b.makeInvalid(a,d)};return{setElementValidationError:l,validateElement:h,validateForm:k,resetElement:i,resetForm:j}}])}(angular),function(a){"use strict";function b(a){return void 0!==a&&"false"!==a}function c(c,d,e){var f=c.autoValidateFormOptions=c.autoValidateFormOptions||a.copy(d.defaultFormValidationOptions);f.forceValidation=!1,f.disabled=!d.isEnabled()||b(e.disableDynamicValidation),f.validateNonVisibleControls=b(e.validateNonVisibleControls),f.removeExternalValidationErrorsOnSubmit=void 0===e.removeExternalValidationErrorsOnSubmit?!0:b(e.removeExternalValidationErrorsOnSubmit),d.isEnabled()===!1&&b(e.disableDynamicValidation)===!1&&(f.disabled=!1)}a.module("jcs-autoValidate").directive("form",["validator",function(a){return{restrict:"E",require:"form",priority:9999,compile:function(){return{pre:function(b,d,e,f){c(f,a,e)}}}}}]),a.module("jcs-autoValidate").directive("ngForm",["validator",function(a){return{restrict:"EA",require:"form",priority:9999,compile:function(){return{pre:function(b,d,e,f){c(f,a,e)}}}}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").directive("form",["validationManager",function(a){return{restrict:"E",link:function(b,c){var d=c.controller("form");void 0!==d&&d.autoValidateFormOptions&&d.autoValidateFormOptions.disabled===!1&&(c.on("reset",function(){a.resetForm(c)}),b.$on("$destroy",function(){c.off("reset")}))}}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").directive("registerCustomFormControl",[function(){var b=function(b){for(var c=b,d=0;50>=d&&(void 0===c||"form"!==c.nodeName.toLowerCase());d+=1)void 0!==c&&(c=a.element(c).parent()[0]);return c};return{restrict:"A",link:function(a,c){var d=b(c.parent()[0]);d&&(d.customHTMLFormControlsCollection=d.customHTMLFormControlsCollection||[],d.customHTMLFormControlsCollection.push(c[0]))}}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(a){a.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(a,b,c){return a[0].compile=function(a,d){var e=b(d.ngSubmit),f="true"===d.ngSubmitForce;return function(b,d){function g(g){b.$apply(function(){var h=a.controller("form");void 0!==h&&null!==h&&h.autoValidateFormOptions&&h.autoValidateFormOptions.disabled===!0?e(b,{$event:g}):(c.validateForm(d)||f===!0)&&e(b,{$event:g})})}d.on("submit",g),b.$on("$destroy",function(){d.off("submit",g)})}},a}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(b){b.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(b,c,d,e){var f=c[0],g=f.link||f.compile;return f.compile=function(b){return function(c,f,h,i){var j=i[0],k=i[1],l=a.version.major>=1&&a.version.minor>=3,m=void 0===h.ngModelOptions?void 0:c.$eval(h.ngModelOptions),n=j.$setValidity,o=j.$setPristine,p=e.debounce(function(){var a=void 0!==k&&null!==k?k.autoValidateFormOptions:void 0;d.validateElement(j,f,a)},100);l&&a.isFunction(g)&&(g=g(b)),g.pre&&(g.pre.apply(this,arguments),m=void 0===j.$options?void 0:j.$options),void 0===h.formnovalidate&&void 0!==k&&null!==k&&k.autoValidateFormOptions&&k.autoValidateFormOptions.disabled===!1&&(l||void 0===m||void 0===m.updateOn||""===m.updateOn?j.$setValidity=function(a,b){n.call(j,a,b),p()}:(f.on(m.updateOn,function(){p()}),c.$on("$destroy",function(){f.off(m.updateOn)})),j.$setPristine=function(){o.call(j),d.resetElement(f)},j.autoValidated=!0),g.post?g.post.apply(this,arguments):g.apply(this,arguments),j.setExternalValidation=function(a,b,c){if(c){var e=j.$error||j.$errors;e[a]=!1}j.externalErrors=j.externalErrors||{},j.externalErrors[a]=!1,d.setElementValidationError(f,a,b)},j.removeExternalValidation=function(a,b){if(b){var c=j.$error||j.$errors;c[a]=!0}j.externalErrors&&delete j.externalErrors[a],d.resetElement(f)},j.removeAllExternalValidation=function(){if(j.externalErrors){var b=j.$error||j.$errors;a.forEach(j.externalErrors,function(a,c){b[c]=!0}),j.externalErrors={},d.resetElement(f)}},k&&(k.setExternalValidation=function(a,b,c,d){var e=!1;return k[a]&&(k[a].setExternalValidation(b,c,d),e=!0),e},k.removeExternalValidation=function(a,b,c,d){var e=!1;return k[a]&&(k[a].removeExternalValidation(b,d),e=!0),e})}},c}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(a,b,c,d){a.setErrorMessageResolver(b.resolve),a.registerDomModifier(c.key,c),a.registerDomModifier(d.key,d),a.setDefaultElementModifier(c.key)}])}(angular);