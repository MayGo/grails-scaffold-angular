<ul class="menu" layout="{{menuCtrl.flexType}}" ng-class="{'upper-menu' : !menuCtrl.isSideMenu}">
  <li ng-repeat="section in menuCtrl.sections" class="parent-list-item {{section.className || ''}}" ng-class="{'parentActive' : menuCtrl.isSectionSelected(section)}">
    <h2 class="menu-heading md-subhead" ng-if="section.type === 'heading'" id="heading_{{ section.name | nospace }}">
      {{section.name}}
    </h2>
    <menu-link section="section" ng-if="section.type === 'link'"></menu-link>

    <menu-toggle flex layout="column" section="section" ng-if="section.type === 'toggle'"></menu-toggle>

    <ul ng-if="section.children" class="menu-nested-list" >
      <li ng-repeat="child in section.children" ng-class="{'childActive' : menuCtrl.isSectionSelected(child)}">
        <menu-link section="child" ng-if="child.type === 'link'"></menu-link>

        <menu-toggle section="child" ng-if="child.type === 'toggle'"></menu-toggle>
      </li>
    </ul>
  </li>
</ul>
